# OMNICORE â€” MASS Meter Suite
## Page Design Specification v2.0

---

### Design Context

**Current issues identified:**
- "Short Read" and "Full Read" are packet-oriented names that expose internal protocol details to the technician
- "Full Read" page packs 4 completely different domains (identity, history, warnings, outages) into one page with tabs â€” too dense, too much scrolling
- "Events" and "Alarms" overlap conceptually â€” a technician doesn't know which one to check first
- The technician's mental model is task-based ("I want to check outages", "I want to see energy"), not protocol-based ("I want Packet 6")

**Design principles for the new structure:**
- Each page answers ONE question the technician has
- No data appears on two different pages
- Sidebar labels use the language of the domain, not the protocol
- The status bar (Alarm Status, Time Status, Recent Event) remains global across all pages
- Reading packets (5, 6, 7, 8, 9) happen behind the scenes â€” the app maps pages to packets internally

---

### Global Elements (Present on All Pages)

| Element | Description |
|---|---|
| **Top Status Bar** | `ğŸ”” Alarm Status: X Active Alarms` Â· `â± Time Status: Correct/Drift` Â· `ğŸ“… Recent Event: ...` â€” always visible, color-coded (red = alarm, green = ok) |
| **Connection Indicator** | Brand badge (e.g. `â— BYL â€”`) showing connected meter brand/model, green dot when connected, gray when disconnected |
| **Language Toggle** | EN / TR switcher |
| **Save Session** | Exports current session data (all read data) to file |
| **Sidebar** | Two sections: **OKUMA (READING)** and **AYARLAR (SETTINGS)** with page links below each |

---

### Sidebar Structure

```
OMNICORE
MASS METER SUITE

â”€â”€ OKUMA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”²  Genel BakÄ±ÅŸ           (Overview)
âš¡  AnlÄ±k Ã–lÃ§Ã¼mler         (Live Measurements)
ğŸ“Š  Enerji                 (Energy)
ğŸ“ˆ  Demand                 (Demand)
ğŸ“‰  YÃ¼k Profili            (Load Profile)
âš ï¸  UyarÄ±lar              (Warnings)
ğŸ”Œ  Kesintiler             (Outages)
ğŸ”¢  Durum KodlarÄ±          (Status Codes)

â”€â”€ AYARLAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ•  Saat & Tarih           (Time & Date)
ğŸ”‘  Parola YÃ¶netimi        (Password)
â˜€ï¸  Yaz Saati              (DST Settings)
ğŸ“‹  Tarife AyarlarÄ±        (Tariff Settings)
â±ï¸  Periyot AyarlarÄ±       (Period Settings)
ğŸ”€  RÃ¶le KontrolÃ¼          (Relay Control)
ğŸ“–  OBÄ°S Okuma             (OBIS Reader)
```

---

## Page Designs

| # | Page Title (TR) | Page Title (EN) | Short Description | Detailed Page Design |
|---|---|---|---|---|
| **1** | **Genel BakÄ±ÅŸ** | **Overview** | Meter identity + health snapshot after connection | **Header Card:** Page title "Genel BakÄ±ÅŸ" with subtitle "SayaÃ§ kimlik bilgileri ve genel durum Ã¶zeti". **Layout:** 3-column grid on desktop, stacked on mobile. **Left Column â€” SayaÃ§ KimliÄŸi (Meter Identity):** A card displaying: SayaÃ§ ID (SayaÃ§ ID field), Seri No (0.0.0), Model Kodu (96.92.0), Karekod Bilgisi (96.92.1), Program Versiyonu (0.2.0), CRC (0.2.1), Ãœretim Tarihi (96.1.3), Kalibrasyon Tarihi (96.2.5), Flag Kodu (from identity response). Each row is label-value, left-aligned label in muted color, right-aligned value in bright white. **Center Column â€” Saat & Durum:** Top section shows SayaÃ§ Saati (0.9.1) and SayaÃ§ Tarihi (0.9.2) with HaftanÄ±n GÃ¼nÃ¼ (0.9.5) in a prominent time display widget (large digits, like a digital clock). Below it, a "Saat SapmasÄ±" indicator comparing meter time to system time â€” green badge "DoÄŸru" if drift < 5s, yellow "Sapma Var" if > 5s, red "Kritik Sapma" if > 30s. Below that: Ä°leri Geri Saat Durumu (96.90.0) shown as Active/Passive badge. **Right Column â€” SaÄŸlÄ±k Durumu (Health):** Pil 1 (Sistem Pili) status bar â€” green if 96.6.1=1, red with "ZayÄ±f" label if 0. Pil 2 (Zaman Saati Pili) same treatment. Ãœst Kapak: green "KapalÄ±" or red flashing "AÃ§Ä±k" based on FF bit 6. Klemens KapaÄŸÄ±: same treatment based on FF bit 5. RÃ¶le Durumu (96.3.10): green "Aktif" / gray "Pasif" (only show if meter has relay). Manyetik Alan: green "Yok" or red "AlgÄ±landÄ±". **Bottom Section â€” HÄ±zlÄ± Okuma ButonlarÄ±:** Two prominent action buttons: "ğŸ” KÄ±sa Okuma (Paket 6)" and "ğŸ“‹ Tam Okuma (Paket 5,6,7,8,9)" â€” these trigger the reads and populate all other pages. A progress bar appears during reading showing which packet is being fetched. **Read trigger note:** This page's data comes from Packet 6 (KÄ±sa Okuma) identity fields + FF code parsing for health indicators. |
| **2** | **AnlÄ±k Ã–lÃ§Ã¼mler** | **Live Measurements** | Real-time voltage, current, power factor, frequency per phase | **Header Card:** "AnlÄ±k Ã–lÃ§Ã¼mler" with subtitle "Faz bazlÄ± gerilim, akÄ±m, gÃ¼Ã§ faktÃ¶rÃ¼ ve frekans deÄŸerleri". **Layout:** A prominent 3-phase visualization at the top. **Phase Diagram Section:** Three large circular/gauge widgets side by side for R(L1), S(L2), T(L3) phases. Each gauge shows the voltage value (32.7.0, 52.7.0, 72.7.0) as the primary number inside, with a colored arc: green if 195.5Vâ€“253V, yellow if slightly outside, red if severely outside. Below each gauge: AkÄ±m value (31.7.0, 51.7.0, 71.7.0) in Amps, Cos Ï† value (33.7.0, 53.7.0, 73.7.0), and a small arrow icon showing current direction (import/export). **For single-phase meters:** Only show the L1 gauge, centered, larger. L2/L3 show as "N/A" or are hidden entirely based on meter type detection. **Bottom Row â€” Frequency & Neutral:** Frekans (14.7.0) displayed as a large number with "Hz" unit. If NÃ¶tr Ã¶lÃ§Ã¼m is available (Irms-L0, 91.7.0), show it in a separate card. **Summary Card:** A small card showing Demant But. Pasif/Aktif (96.91.0) status and current Demand Import value (1.6.0) as context. **Color Coding:** Phase R = Red tint, Phase S = Yellow tint, Phase T = Blue tint (standard electrical convention). Values outside normal range get a pulsing red background. **Data source:** Packet 6 (KÄ±sa Okuma) â€” fields 31.7.0 through 73.7.0 and 14.7.0. This page can also have a "Yenile" (Refresh) button that re-reads just Packet 5 (Teknik Kalite) for updated values without a full readout. |
| **3** | **Enerji** | **Energy** | All energy registers: current cumulative + 12-month history | **Header Card:** "Enerji" with subtitle "Tarife bazlÄ± enerji tÃ¼ketim ve Ã¼retim bilgileri". **Layout:** Two main sections separated by a horizontal divider. **Section 1 â€” GÃ¼ncel Enerji (Current Energy):** Two side-by-side cards. **Left Card "Aktif Enerji Import (+)":** Table with rows: Toplam (1.8.0), T1 GÃ¼ndÃ¼z (1.8.1), T2 Puant (1.8.2), T3 Gece (1.8.3), T4 (1.8.4). Each row shows the kWh value right-aligned. The active tariff row (whichever is currently recording) gets a subtle cyan left-border highlight. **Right Card "Aktif Enerji Export (âˆ’)":** Same structure for 2.8.0â€“2.8.4. Only visible if meter is bidirectional (check if 2.8.0 register exists/is non-zero). If single-direction meter, this card is hidden and the import card takes full width. **Below for Kombi meters only â€” Reactive Energy cards:** "Reaktif EndÃ¼ktif (+)" showing 5.8.0, "Reaktif Kapasitif (+)" showing 6.8.0, "Reaktif EndÃ¼ktif (âˆ’)" showing 7.8.0, "Reaktif Kapasitif (âˆ’)" showing 8.8.0. These 4 values in a 2Ã—2 grid of small cards. **Section 2 â€” 12 AylÄ±k Enerji GeÃ§miÅŸi (12-Month History):** A tab bar with tabs: "Aktif (+)", "Aktif (âˆ’)", "EndÃ¼ktif", "Kapasitif" (last two only for Kombi). Under "Aktif (+)" tab: A table with columns: Ay (month label calculated from demant reset dates 0.1.2*1â€“*12), T1 (1.8.1*1â€“*12), T2 (1.8.2*1â€“*12), T3 (1.8.3*1â€“*12), T4 (1.8.4*1â€“*12), Toplam (sum). Rows are 1 Ã–nceki Ay through 12 Ã–nceki Ay. Green dot next to months that have data, gray for empty/zero. Optional: A small bar chart above the table visualizing monthly totals as bars for quick trend spotting. **Tarife Bilgisi Context (read-only):** A collapsible footer section showing the currently programmed tariff schedule (96.50, 96.51, 96.52 decoded as time slots, and 96.60, 96.61, 96.62 decoded as tariff assignments) â€” this helps the technician verify the tariff is correct without going to settings. **Data source:** Current values from Packet 6, historical from Packet 7 (GeÃ§miÅŸ Bilgiler). |
| **4** | **Demand** | **Demand** | Max demand values + 12-month demand history + reset log | **Header Card:** "Demand" with subtitle "Maksimum gÃ¼Ã§ talebi Ã¶lÃ§Ã¼mleri ve geÃ§miÅŸ kayÄ±tlarÄ±". **Layout:** Three sections vertically. **Section 1 â€” GÃ¼ncel Demand:** Two cards side by side. **Left card "Maks. Aktif GÃ¼Ã§ (+)":** Large prominent number showing 1.6.0 value in kW, with the timestamp (date and time) below it in muted text. A small badge showing the demand measurement period (0.8.0) like "15 dk". **Right card "Maks. Aktif GÃ¼Ã§ (âˆ’)":** Same for 2.6.0 (only for bidirectional meters, hidden otherwise). **Section 2 â€” 12 AylÄ±k Demand GeÃ§miÅŸi:** A table with columns: DÃ¶nem (period), Maks. Demand (+) kW, Tarih/Saat, Maks. Demand (âˆ’) kW, Tarih/Saat. Rows for 1.6.0*1 through 1.6.0*12 (and 2.6.0*1â€“*12 for bidirectional). A bar chart above the table showing demand trend â€” red horizontal line at the threshold value if available. **Section 3 â€” Demand SÄ±fÄ±rlama KayÄ±tlarÄ±:** Total reset count (0.1.0) shown as a badge. A list/table of the 12 most recent reset timestamps (0.1.2*1 through 0.1.2*12) in reverse chronological order (newest first). Each entry shows the date-time and a relative label like "3 ay Ã¶nce". **Data source:** 1.6.0/2.6.0 from Packet 6, history from Packet 7. |
| **5** | **YÃ¼k Profili** | **Load Profile** | Time-series energy/power data with date range filtering | **Header Card:** "YÃ¼k Profili" with subtitle "Zaman bazlÄ± enerji ve gÃ¼Ã§ kayÄ±tlarÄ±". **Layout:** Top controls bar + content area. **Controls Bar:** Three sub-tab buttons: "P.01 â€” YÃ¼k Profili 1", "P.02 â€” YÃ¼k Profili 2", "P.03 â€” YÃ¼k Profili 3". P.02 and P.03 only visible for Kombi meters. A date-range picker with "BaÅŸlangÄ±Ã§" and "BitiÅŸ" date-time fields. A "Oku" (Read) button that sends the LP read command for the selected date range. Current LP period (0.8.4) shown as a badge "Periyot: 15 dk". **Profile Content Display (read-only context):** Before the table, show the profile content definition. For P.01 read from 97.1.0 â€” decode and display as column header labels (e.g. "1.8.0 = Toplam Aktif, 5.8.0 = EndÃ¼ktifâ€¦"). This tells the technician what each column means. **Data Table:** A scrollable table where each row is one LP record. Columns: Tarih-Saat (timestamp), then one column per data field in the profile (varies by meter type as defined in Ek-E). For P.01 on a tek yÃ¶nlÃ¼ Ã¼Ã§ fazlÄ± meter this would be: Toplam Aktif, Aktif GÃ¼Ã§, Maks V-L1, Maks V-L2, Maks V-L3, Min V-L1, Min V-L2, Min V-L3. Row striping for readability. Rows where there was a power outage (gap in timestamps) highlighted with a red left border and a âš¡ icon. **Export Button:** "ğŸ“¥ CSV Ä°ndir" button to export the visible LP data as CSV. **Chart (Optional but recommended):** A line/area chart above the table showing the primary energy value (e.g. 1.8.0) over time, with vertical red markers where outages occurred. **Data source:** Separate LP read commands via P.01/P.02/P.03 OBIS queries. |
| **6** | **UyarÄ±lar** | **Warnings** | Tamper detection, connection errors, magnetic interference | **Header Card:** "UyarÄ±lar" with subtitle "Gerilim, akÄ±m, manyetik alan uyarÄ±larÄ± ve kapak mÃ¼dahaleleri". **Layout:** Vertically stacked collapsible sections, each with a colored left border indicating severity. **Section 1 â€” Ãœst Kapak (Top Cover):** Orange-bordered card. Shows 96.70 â€” the cover opening date-time. If empty, show "KayÄ±t yok" in muted text. If present, show the date-time prominently with a warning icon. This is a one-time irreversible record per the spec. **Section 2 â€” Klemens KapaÄŸÄ± (Terminal Cover):** Orange-bordered card. Current month: date-time and count from 96.71. Below it, a collapsible table "12 AylÄ±k Klemens KapaÄŸÄ± GeÃ§miÅŸi" showing 96.71*1 through 96.71*12 with columns: DÃ¶nem, Tarih, AÃ§Ä±lma SayÄ±sÄ±. Months with 0 openings shown in muted text, months with openings highlighted. **Section 3 â€” Gerilim UyarÄ±larÄ± (Voltage Warnings):** Yellow-bordered card. Total count badge from 96.7.4. Expandable table with up to 10 records from 96.77.4*1â€“*10, columns: #, BaÅŸlangÄ±Ã§ Tarihi, BitiÅŸ Tarihi, SÃ¼re (calculated). If no records: "Gerilim uyarÄ±sÄ± kaydÄ± yok" (matching your current design). **Section 4 â€” AkÄ±m UyarÄ±larÄ± (Current Warnings):** Blue-bordered card. Total count from 96.7.5. Same table structure from 96.77.5*1â€“*10. **Section 5 â€” Manyetik Alan UyarÄ±larÄ± (Magnetic Field):** Red-bordered card (highest severity visual). Total count and total duration from 96.7.6. Table from 96.77.6*1â€“*10 with same columns as voltage warnings. **Section 6 â€” Tarife DeÄŸiÅŸiklikleri:** Neutral-bordered card. Last change date (96.2.2). Expandable table of 10 most recent changes (96.2.2*1â€“*10). **Each section header shows:** An icon, the category name, and a count badge (e.g. "Gerilim UyarÄ±larÄ± (3)"). Sections with zero records are collapsed by default; sections with records are expanded. **Data source:** Packet 8 (UyarÄ± Paketi) + some fields from Packet 7. |
| **7** | **Kesintiler** | **Outages** | All phase outage records: 3-phase + per-phase, short + long | **Header Card:** "Kesintiler" with subtitle "Faz bazlÄ± kÄ±sa ve uzun kesinti kayÄ±tlarÄ±". **Layout:** Keep your current excellent design from screenshot 4 but with refinements. **Summary Row at Top:** Four stat cards in a row: "ÃœÃ§ Faz Kesinti" (96.7.0 + 96.7.00 totals), "R FazÄ±" (96.7.1 + 96.7.10), "S FazÄ±" (96.7.2 + 96.7.20), "T FazÄ±" (96.7.3 + 96.7.30). Each stat card shows total (long+short) with a small breakdown "Uzun: X / KÄ±sa: Y" below. Color-coded: card with zero outages = green border, cards with outages = red border. **Section 1 â€” ÃœÃ§ Faz Kesintileri:** A card with two sub-tabs: "Uzun Kesinti (â‰¥180 sn)" and "KÄ±sa Kesinti (<180 sn)". Under each tab: Count badge + scrollable table of up to 99 records from 96.77.0*1â€“*99 or 96.77.00*1â€“*99. Columns: #, BaÅŸlangÄ±Ã§ (date-time), BitiÅŸ (date-time), SÃ¼re (calculated duration). Color the duration column: <5 min = yellow, 5â€“60 min = orange, >60 min = red. If no records: "ÃœÃ§ faz kesinti kaydÄ± yok" centered text (matching current design). **Section 2 â€” R FazÄ± (L1) Kesintileri:** Same card structure with Uzun/KÄ±sa tabs for 96.77.1 and 96.77.10 series. **Section 3 â€” S FazÄ± (L2) Kesintileri:** Same for 96.77.2 and 96.77.20. **Section 4 â€” T FazÄ± (L3) Kesintileri:** Same for 96.77.3 and 96.77.30. **Each section is collapsible.** Sections with zero records collapsed by default. An "ÃœÃ§ Faz" section badge changes color if there's an ongoing outage (FF bits 20â€“23). **Data source:** Packet 9 (Kesinti KayÄ±tlarÄ±). |
| **8** | **Durum KodlarÄ±** | **Status Codes** | Decoded FF and GF bitfields with human-readable descriptions | **Header Card:** "Durum KodlarÄ±" with subtitle "FF Hata/Durum ve GF CoÄŸrafi Durum kodlarÄ±nÄ±n detaylÄ± Ã§Ã¶zÃ¼mlemesi". **Layout:** Two main sections with tab navigation: "FF Hata KodlarÄ±" and "GF CoÄŸrafi Kodlar". **FF Hata KodlarÄ± Tab:** At the top, show the raw F.F.0 value as a monospace hex string (e.g. `00000000000000C0`) for reference. Below it, a visual bitfield strip â€” 64 small squares in a row, each colored green (0) or red (1), grouped into visual clusters of 8 bits. **Below the visual strip â€” Decoded Table:** A table with columns: Bit, Durum (Status), AÃ§Ä±klama (Description), Acil Bildirim. Each of the 64 bits from the Ek-C FF table gets a row. Bit column shows the number. Durum column shows a green "âœ“ Yok" badge or red "âœ— Var" badge based on the bit value. AÃ§Ä±klama shows the full Turkish description from the spec (e.g. "Saat HatasÄ± (LCD RTC ikonu)", "Ã–lÃ§Ã¼m Entegresi ArÄ±zasÄ±", etc.). Acil Bildirim shows a ğŸ”´ icon if that bit has Acil Bildirim = 1 in the spec. **Filtering:** Two filter buttons at top: "TÃ¼mÃ¼nÃ¼ GÃ¶ster" and "Sadece Aktif Hatalar" â€” the latter filters to only show rows where bit = 1. **Category grouping (optional enhancement):** Group the bits into logical categories with collapsible headers: DonanÄ±m HatalarÄ± (bits 0â€“7), AkÄ±m/Gerilim Anomalileri (bits 8â€“16), Endeks SorunlarÄ± (bits 17â€“19, 26â€“31), Aktif Kesintiler (bits 20â€“25), Pil Durumu (bits 37â€“38), Gerilim Kalitesi (bits 45â€“50), AkÄ±m Kalitesi (bits 51â€“53), DiÄŸer (bits 39â€“44, 54â€“63). **GF CoÄŸrafi Kodlar Tab:** Show raw F.F.1 value as hex string. Below it, a structured decoded card: EDAÅ ID (bits 0â€“4) â†’ decoded to EDAÅ name from the lookup table in Ek-C (e.g. "04 = AYDEM"), Trafo Merkez ID (bits 5â€“19) â†’ number, Trafo ID (bits 20â€“23) â†’ number, Depar ID (bits 24â€“29) â†’ number, Faz ID (bits 30â€“31) â†’ decoded to "R FazÄ± / S FazÄ± / T FazÄ±", Kol ID (bits 32â€“33) â†’ number, Maks. Depar AkÄ±mÄ± (bits 34â€“43) â†’ number in Amps. Each field shown as a labeled row with the raw bit range, decimal value, and decoded meaning. **Data source:** F.F.0 and F.F.1 from Packet 6 (KÄ±sa Okuma). |
| **9** | **Saat & Tarih** | **Time & Date** | Set meter clock, date, and day of week | **Header Card:** "Saat & Tarih AyarlarÄ±" with subtitle "SayaÃ§ saat ve tarih senkronizasyonu". **Layout:** Single centered card, moderate width. **Current Values Display (read-only):** Top section shows the current meter time (0.9.1), date (0.9.2), and day (0.9.5) as read from the meter, with a "Son Okuma" timestamp. Next to it, show the PC/device time for comparison. A drift indicator showing the difference in seconds. **Set Form:** Three input fields with checkboxes (matching the spec's approach â€” each field is independently writable): â˜ Saat (0.9.1) â€” time picker HH:MM:SS, â˜ Tarih (0.9.2) â€” date picker YY-MM-DD, â˜ GÃ¼n (0.9.5) â€” dropdown 1=Pazartesi through 7=Pazar. A "â± Sistem Saatini Kullan" button that auto-fills all three fields from the device clock and checks all checkboxes. **Action Button:** "Yaz" (Write) button â€” only enabled when at least one checkbox is checked. Confirmation dialog before writing. Success/failure toast notification. **Data source:** Read from Packet 6, write via W2 commands per Ek-D. |
| **10** | **Parola YÃ¶netimi** | **Password** | Change meter password | **Header Card:** "Parola YÃ¶netimi" with subtitle "SayaÃ§ ÅŸifre deÄŸiÅŸtirme". **Layout:** Simple centered card. **Form:** Current Password field (masked, for authentication), New Password field (96.96), Confirm New Password field. **Security Note:** A warning box: "Dikkat: 3 kez yanlÄ±ÅŸ ÅŸifre girilmesi durumunda sayaÃ§ 6 saat boyunca programlamaya kapanÄ±r." **Action Button:** "ParolayÄ± DeÄŸiÅŸtir" with confirmation dialog. **Data source:** W2 command to 96.96. |
| **11** | **Yaz Saati** | **DST Settings** | Configure daylight saving time periods | **Header Card:** "Yaz Saati AyarlarÄ±" with subtitle "Ä°leri-geri saat uygulama dÃ¶nemleri". **Layout:** Top status + period list. **Status Card:** Ä°leri Geri Saat Durumu (96.90.0) â€” toggle switch showing Aktif/Pasif. **Period List:** A scrollable list/table of 12 application periods (96.90.1 through 96.90.12). Each row shows: Period number, Saat FarkÄ± (Â±HH:MM), Ä°leri Alma Tarihi (start date-time), Geri Alma Tarihi (end date-time). Editable inline or via edit modal. Current/active period highlighted with cyan border. Past periods shown in muted text. **Action Buttons:** "TÃ¼mÃ¼nÃ¼ Oku" to read all 12 periods, "Yaz" to write changes. **Data source:** 96.90.0â€“96.90.12 from Packet 8 / write via W2. |
| **12** | **Tarife AyarlarÄ±** | **Tariff Settings** | Configure tariff schedules and time slots | **Header Card:** "Tarife AyarlarÄ±" with subtitle "Hafta iÃ§i, Cumartesi ve Pazar tarife saatleri ve dilimleri". **Layout:** Three vertical cards, one per day type. **Card 1 â€” Hafta Ä°Ã§i:** Two sub-sections. "Tarife Saatleri (96.50)": Shows the 30-digit tariff time string decoded into human-readable time slots. Visual timeline bar (24h horizontal bar) color-coded by tariff (T1=blue, T2=red, T3=green, T4=yellow) showing which tariff applies at each hour. Editable time slot inputs. "Tarife Dilimleri (96.60)": 8-digit string decoded â€” for each time slot, which tariff number applies. **Card 2 â€” Cumartesi:** Same structure for 96.51 + 96.61. **Card 3 â€” Pazar:** Same structure for 96.52 + 96.62. **Default Values Note:** A small info box showing the MASS default: "VarsayÄ±lan: T1 GÃ¼ndÃ¼z 06:00â€“17:00, T2 Puant 17:00â€“22:00, T3 Gece 22:00â€“06:00". A "Fabrika AyarlarÄ±na DÃ¶n" button that resets to defaults. **Action Buttons:** "Oku" and "Yaz" per day type, or a global "TÃ¼mÃ¼nÃ¼ Yaz". **Data source:** 96.50â€“96.62 from Packet 7 / write via W2. |
| **13** | **Periyot AyarlarÄ±** | **Period Settings** | Configure demand and load profile measurement periods | **Header Card:** "Periyot AyarlarÄ±" with subtitle "Demand ve yÃ¼k profili Ã¶lÃ§Ã¼ sÃ¼releri". **Layout:** Two simple cards side by side. **Card 1 â€” Demand Ã–lÃ§Ã¼ SÃ¼resi (0.8.0):** Current value displayed. Dropdown or radio buttons: 15 dk / 30 dk / 60 dk. Note: "Tek FazlÄ± ve ÃœÃ§ FazlÄ± sayaÃ§larda sabit 15 dakikadÄ±r." â€” disable dropdown for non-Kombi meters. **Card 2 â€” YÃ¼k Profili Ã–lÃ§Ã¼ SÃ¼resi (0.8.4):** Current value displayed. Same dropdown: 15 dk / 30 dk / 60 dk. **Card 3 â€” KÄ±sa/Uzun Kesinti EÅŸik SÃ¼resi (0.9.9):** Current value (default 180 sn). Number input with unit "saniye". Note: "â‰¥ EÅŸik = Uzun Kesinti, < EÅŸik = KÄ±sa Kesinti". **Action Button:** "Yaz" button. **Data source:** 0.8.0, 0.8.4, 0.9.9 from Packet 6-7 / write via W2. |
| **14** | **RÃ¶le KontrolÃ¼** | **Relay Control** | Remote energy connect/disconnect (for meters with relay) | **Header Card:** "RÃ¶le KontrolÃ¼" with subtitle "Uzaktan enerji aÃ§ma-kesme iÅŸlemleri". **Only visible in sidebar if meter has relay capability.** **Layout:** Centered card with prominent status. **Current Status:** Large visual indicator: if 96.3.10=1 â†’ Green circle with "ENERJÄ° AÃ‡IK" text, if 96.3.10=0 â†’ Red circle with "ENERJÄ° KESÄ°K" text. **Action Buttons:** Two large buttons: "ğŸŸ¢ Enerjiyi AÃ§" (writes 96.3.10=1) and "ğŸ”´ Enerjiyi Kes" (writes 96.3.10=0). **Safety:** Double confirmation for the "Kes" action â€” first click shows a warning dialog: "Dikkat: Aboneye ait enerji kesilecektir. Devam etmek istiyor musunuz?" with a 5-second countdown before the confirm button becomes active. **Demand Button Status:** Also show Demand Butonu Durumu (96.91.0) as Aktif/Pasif with a toggle. **Data source:** 96.3.10, 96.91.0 read from Packet 6, write via W2. |
| **15** | **OBÄ°S Okuma** | **OBIS Reader** | Read arbitrary OBIS codes for troubleshooting | **Header Card:** "OBÄ°S Okuma" with subtitle "Tekli OBÄ°S kodu sorgulama aracÄ±". **Layout:** Matches the existing TEKLÄ° OBÄ°S OKUMA tab from Meteriks (screenshot page 8 in spec). **Input Section:** 10 input rows, each with: a text field for OBIS code (e.g. "1.8.0"), a result display field (read-only), and a checkbox to include/exclude from the read. **Action Button:** "Oku" button that reads all checked OBIS codes. **Preset Buttons (enhancement):** Quick-fill buttons: "Enerji KodlarÄ±" (fills 1.8.0â€“1.8.4), "AnlÄ±k Ã–lÃ§Ã¼mler" (fills 31.7.0, 32.7.0, etc.), "Durum KodlarÄ±" (fills F.F.0, F.F.1). **Use case:** This is a power-user/debugging tool, not a primary workflow page. It sits at the bottom of the settings section. **Data source:** Direct single OBIS code read commands. |

---

## Data Source Mapping (Internal Reference)

This table shows which MASS reading packets feed which pages, so the app can optimize reads:

| Packet | Command | Pages That Use It |
|---|---|---|
| Packet 5 â€” Teknik Kalite | Command 5 | AnlÄ±k Ã–lÃ§Ã¼mler (refresh) |
| Packet 6 â€” KÄ±sa Okuma | Command 6 | Genel BakÄ±ÅŸ, AnlÄ±k Ã–lÃ§Ã¼mler, Enerji (current), Demand (current), Durum KodlarÄ± |
| Packet 7 â€” GeÃ§miÅŸ Bilgiler | Command 7 | Enerji (12-month), Demand (12-month + resets), UyarÄ±lar (klemens history, tarife changes), Tarife AyarlarÄ± (current config) |
| Packet 8 â€” UyarÄ± Paketi | Command 8 | Genel BakÄ±ÅŸ (health), UyarÄ±lar (voltage/current/magnetic/cover), Yaz Saati (DST periods) |
| Packet 9 â€” Kesinti KayÄ±tlarÄ± | Command 9 | Kesintiler (all outage records) |
| P.01 / P.02 / P.03 | LP Commands | YÃ¼k Profili |

**Optimization:** When the technician clicks "Tam Okuma" on the Overview page, the app reads packets 6â†’7â†’8â†’9 in sequence and populates all pages at once. Individual pages can also have a "Yenile" button that reads only their specific packet(s).

---

## Migration from Current Design

| Current Page | What Happens | New Location |
|---|---|---|
| Dashboard | â†’ Renamed/enhanced | **Genel BakÄ±ÅŸ** (Overview) |
| Short Read | â†’ Eliminated | Data split across Genel BakÄ±ÅŸ + AnlÄ±k Ã–lÃ§Ã¼mler + Enerji |
| Full Read â†’ Current Data tab | â†’ Split | Identity â†’ **Genel BakÄ±ÅŸ**, Energy â†’ **Enerji**, Measurements â†’ **AnlÄ±k Ã–lÃ§Ã¼mler** |
| Full Read â†’ Historical Data tab | â†’ Split | Energy history â†’ **Enerji** page Section 2, Demand history â†’ **Demand** page |
| Full Read â†’ Warnings tab | â†’ Promoted to page | **UyarÄ±lar** (standalone page) |
| Full Read â†’ Outage Records tab | â†’ Promoted to page | **Kesintiler** (standalone page) |
| Events | â†’ Eliminated (was ambiguous) | Content distributed to UyarÄ±lar + Kesintiler |
| Alarms | â†’ Replaced | **Durum KodlarÄ±** (decoded FF/GF view) |
| Load Profile | â†’ Kept, enhanced | **YÃ¼k Profili** (with profile content display + chart) |
| Time Sync | â†’ Kept | **Saat & Tarih** |
| Change Password | â†’ Kept | **Parola YÃ¶netimi** |
| DST Settings | â†’ Kept | **Yaz Saati** |
| Period Settings | â†’ Enhanced | **Periyot AyarlarÄ±** (added kesinti eÅŸik sÃ¼resi) |
| Tariff Settings | â†’ Enhanced | **Tarife AyarlarÄ±** (added visual timeline) |
| *(new)* | â€” | **RÃ¶le KontrolÃ¼** (was missing) |
| *(new)* | â€” | **OBÄ°S Okuma** (was missing, exists in Meteriks) |
